
简洁：

这个程序需要为一个游戏模组的单位生成代码块，包含7大板块：

1. 基础信息
2. 行为控制
3. 子单位/生产
4. 武器配置
5. 雷达/修改器
6. 状态切换
7. 升级项



1. 基础信息【Entry、表格】：
    
    基础信息包含游戏单位的美术资源引用路径、各项游戏性参数等基本数值，基本项如下
    *为必填项，**为空中单位（Aircraft）必填项，无标记为非必填项

    基础信息组：
    [UNIT] "名称"
    *Tech [名称] // 它所引用的科技名称，字符串
    *Type [类型] // 它的单位类型，字符串
    *Class [分组] // 单位的分组，字符串

    美术资源组：
    *Movie [路径] // 俯视角图标的路径，字符串
    *AbstractMovie [路径] // 缩略图标的路径，字符串
    *Model [路径] // 3D模型的路径，字符串
    *Icon [路径] // 图标路径，字符串
    RoundIcon [路径] // 圆形图标路径，字符串
    *IconIDX [数字] // 图标的索引，整数值
    *DrawSize [数字] // 绘制大小，浮点数
    AbstractDrawSize [数字] // 缩略图绘制大小，浮点数
    ModelDrawSize [数字] // 3D模型尺寸大小，浮点数
    Sound [数字] // 音效文件编码，整数值
    LaunchMeSound [路径] // 发射音效文件路径，字符串
    LaunchMePathIcon [路径] // 发射路径图标的文件路径，字符串
    DrawOrder [数字] // 绘制顺序，整数值
    Crash [名称] // 爆炸动画名称，字符串
    

    游戏性参数组：
    *Power [数字] // 生命值，浮点数
    *Size [数字] // 受击体积，浮点数
    *Speed [数字] // 移动速度，浮点数
    *TrunSpeed [数字] // 转向速度，浮点数
    **Range [数字] // 航程，浮点数
    *ProductionCost [数字] // 生产成本，浮点数
    *SelfDestruct [数字] // 自毁时间，浮点数
    **MaxElevation [数字] // 最大高度，浮点数
    **MinElevation [数字] // 最小高度，浮点数
    ResupplyRadius [数字] // 补给半径，浮点数
    FollowRadius [数字] // 跟随半径，浮点数
    OccupationRadius [数字] // 占领半径，浮点数
    AutoRepair [数字] // 自动修理，浮点数
    MaxAutoEngageRange [数字] // 最大自动攻击范围，浮点数
    ProductionPlacementRadius [数字] // 放置半径，浮点数
    MaxNumberOnMap [数字] // 地图上最大数量，整数值
    MaxNumberToOrder [数字] // 最大持有数量，整数值
    TimeToOccupyMult [数字] // 被占领时间，浮点数
    DecayTimer [数字] // 生命值完全衰减时间，浮点数

    自定义项：
    提供两个Entry，允许记录用户输入自定义的项和值在表格中，并一同导出


2. 行为控制【复选框】：

    行为控制包含游戏单位的行为控制和行动逻辑，需要多个复选框。基本项如下：
    *为如果选择No，依然还需要显示。如果无标记且为No，则无需显示。
    例如：*CanCrossBorderDuringPeaceTime如果选择No，那么仍然要输出CanCrossBorderDuringPeaceTime No。而未标记的AttackerInPlanner如果选择No，则不显示。

    AlwaysVisableOnEnemyTerritory [Yes/No] // 是否在敌方领土总是可见，布尔值
    *CanCrossBorderDuringPeaceTime [Yes/No] // 是否和平时期穿越边界，布尔值
    *CanCrossBorder [Yes/No] // 可跨越边界，布尔值
    DoesNotTriggerWarOnAttack [Yes/No] // 攻击是否触发战争，布尔值
    ReportAsHosted [Yes/No] // 显示被装载于母单位，布尔值
    TargetInPlanner [Yes/No] // 在被攻击名单中，布尔值
    AttackerInPlanner [Yes/No] // 在攻击者名单中，布尔值
    CanAccessGlobalStorage [Yes/No] // 可访问全局库存，布尔值
    CanAccessWeaponStockpile [Yes/No] // 可访问全局武器库存，布尔值
    CanAccessUnitStockpile [Yes/No] // 可访问全局单位库存，布尔值
    CanHangInTheAir [Yes/No] // 可悬停，布尔值
    HideOwnership [Yes/No] // 隐藏所有者阵营，布尔值
    CanPatrolPoint [Yes/No] // 空中单位巡逻点，布尔值
    AutoReturn [Yes/No] // 自动返回母单位，布尔值
    ProducedByAnotherUnit [Yes/No] // 此单位由其他单位生产，布尔值
    FixedRotationAngle [Yes/No] // 固定朝向，布尔值
    AttackOnMove [Yes/No] // 移动时可攻击，布尔值
    ShowDisabledOnDeploymentMarker [Yes/No] // 部署时显示禁用，布尔值
    DestroyOnFactionSurrender [Yes/No] // 投降后自动摧毁，布尔值
    HiddenFromAllies [Yes/No] // 对盟友隐藏，布尔值
    AttacklfDestroyed [Yes/No] // 被摧毁时反击，布尔值
    NoAutoAttack [Yes/No] // 不自动攻击，布尔值
    NoAutoAttackSub [Yes/No] // 不自动攻击潜艇，布尔值
    Slave [Yes/No] // 附属于母单位，布尔值
    NoAutoDeploy [Yes/No] // 不自动部署，布尔值
    SpecialState [Yes/No] // 特殊状态，布尔值
    ExecuteOrdersWhenBesieged [Yes/No] // 被围困时允许执行命令，布尔值
    HideAbstract [Yes/No] // 隐藏缩略图，布尔值



3. 子单位/生产【表格】：

    子单位/生产包含游戏单位可以生产或搭载的子单位，基本项如下：

    生产：
    Produces [名称] // 生产单位，字符串
    
    搭载单位：
    HangarSpaceRequired [数字] // 此单位所需空间，整数值
    HangarMaxLoad [数字] // 最大搭载单位数量，整数值
    CanCarryUnit [名称] // 可搭载单位，字符串
    
    子单位：
    AirWay Launch [整数值数字] [浮点数数字]
    航线标记，第一个数字代表它一次性能发射多少子单位，第二个代表它每次发射间的准备时间。

    CanHostAircraft [AirWay数字，整数值] [名称，字符串] [子单位数量，整数值] [Patrol [巡逻数量] [AIAutoPatrol]]
    AirWay数字代表它引用哪一条AirWay，如果为空值，默认使用第一个。以行数的先后顺序判断哪个AirWay是哪一个。
    名称代表它搭载的是哪个子单位，子单位数量代表子单位数量
    Patrol代表它搭载的子单位是否可以巡逻，AIAutoPatrol代表这个子单位是否可以自动巡逻。所有巡逻相关的都不是必填项。

    例如：
    Airway Launch 1 Time 60
    Airway Launch 1 Time 180
    Airway Launch 1 Time 210
    CanHostAircrafts "Attack" 30 Patrol 6
    CanHostAircrafts "EW_Aircraft" 6 Patrol 2 AIAutoPatrol
    CanHostAircrafts airway 2 "Naval AWACS" 2 Patrol 1 AIAutoPatrol
    CanHostAircrafts airway 1 "Navy_Helicopter" 4 Patrol 1 AIAutoPatrol
    CanHostAircrafts airway 1 "Spec_Ops_Helicopter" 2 Patrol 1
    
    这个母单位有三条AirWay，可以搭载5种飞机，其中所有飞机都可以巡逻，但是只有"EW_Aircraft"等3种飞机可以自动巡逻。
    第一个AirWay每次发射一个飞机，准备时间为60秒
    第二个AirWay每次发射一个飞机，准备时间为180秒
    第三个AirWay每次发射一个飞机，准备时间为210秒
    CanHostAircrafts "Attack" 30 Patrol 6 
    代表它默认使用第1个AirWay，可以搭载30架Attack飞机，其中6架可以巡逻。
    CanHostAircrafts airway 2 "Naval AWACS" 2 Patrol 1 AIAutoPatrol 
    代表它使用第2条AirWay，可以搭载2架Naval AWACS飞机，其中1架可以自动巡逻。



4. 武器配置【表格】：

    武器配置包含游戏单位可以搭载或发射的武器，基本项如下：
    Config ["名称"] [Default] [OnlyFull] [Special]
        Weapon ["武器名称"] [整数] [Launch 整数] [Time 浮点数] [AutoEngage] [Principal] [DefaultOff]
    ["名称"] = 这个配置的名称
    [Default] = 是否默认使用这个配置
    [OnlyFull] = 是否
    [Special] = 是否特殊配置

    ["武器名称"] [整数] [Launch 整数] [Time 浮点数] [AutoEngage] [Principal] [DefaultOff]
    ["武器名称"] = 武器的名称
    [整数] = 武器数量
    [Launch 整数] = 武器发射数量
    [Time 浮点数] = 武器发射间隔时间
    [AutoEngage] = 是否自动攻击
    [Principal] = 是否显示备弹数量
    [DefaultOff] = 是否默认关闭

    例如：
    Config "Config 1" Default
        Weapon "Torpedo" 20000 Launch 2 Time 150 AutoEngage
        Weapon "Fusion Torpedo" 4 DefaultOff Time 400 AutoEngage Principal
    默认使用"Config 1"这个武器配置，这个配置中搭载20000枚"Torpedo"，每次发射2枚，发射间隔为150秒，可以自动攻击，搭载4枚"Fusion Torpedo"，发射间隔为400秒，并且可以自动攻击，显示备弹数量。



5. 雷达/修改器【表格】：

    雷达/修改器包含游戏单位可以搭载的雷达和修改器，基本项如下： 
    
    雷达：
    Radar [名称] // 雷达名称，字符串

    修改器：
    Modifier [名称] [Value [浮点数]]
    如果没有Value，则默认为1.0



6. 状态切换【Entry】：
    
    状态切换包含游戏单位可以切换的状态，基本项如下：

    SpecialState [Yes/No] // 是否拥有特殊状态，布尔值
    HighState [名称] // 高状态名称，字符串
    LowState [名称] // 低状态名称，字符串
    TimeToHighState [数字] // 切换高状态时间，浮点数
    TimeToLowState [数字] // 切换低状态时间，浮点数
    HighStateStringIDX [数字] // 高状态字符串索引，整数值
    LowStateStringIDX [数字] // 低状态字符串索引，整数值
    StateStringIDX [数字] // 当前状态字符串索引，整数值
    StateIcon [名称] // 切换状态按钮图标路径，字符串
    ToHighStateIcon [名称] // 切换高状态按钮图标路径，字符串
    ToLowStateIcon [名称] // 切换低状态按钮图标路径，字符串
    ToHighStateProcessingStringIDX [名称] // 高状态切换过程字符串索引，字符串
    ToLowStateProcessingStringIDX [名称] // 低状态切换过程字符串索引，字符串
    AutoOnRestDelay [数字] // 切换高状态延迟，浮点数
    RetreatShift [High/Low/None] // 撤退状态，字符串
    AttackShift [High/Low/None] // 攻击状态，字符串
    DefenceShift [High/Low/None] // 防御状态，字符串
    FastMoveShift [High/Low/None] // 快速移动状态，字符串
    UnderIceShift [High/Low/None] // 冰下状态，字符串
    AutoOnMove [High/Low/None] // 移动时自动切换状态，字符串
    AutoOnRest [High/Low/None] // 待命时自动切换状态，字符串
    


7. 升级项【表格】：

    升级项允许游戏单位通过某一项科技来更改游戏参数和外观（美术资源），主要有两种形式：

    1). 简易项：
    ImprovedBy [名称] [被修改的项] [Set] [修改后的值]
    例如 ImprovedBy "Electronic_Counters_Mk1" Size 0.99
    当解锁"Electronic_Counters_Mk1"科技后，该单位的Size变为原值的0.99
    再例如 ImprovedBy "Army_Mech_Mk3" Set Speed 85
    当解锁"Army_Mech_Mk3"科技后，该单位的Speed被设置为为85

    2). 复杂项：
    ImprovedBy "Helicopter_5" 	
	{
	Movie "Units/Images/Airborne/Topdown/Naval_Heli_5.midx"
    Icon "Units/Images/Icons/Airborne/Naval_Heli_5.png"
	Model "Units/Images/AIRBORNE/Naval Heli 5.midx"
	Set Speed 500
	Set Size 0.075
    Set TurnSpeed 7.5
    Set Range 4500
	Set Power 1.6
	}
    当解锁"Helicopter_5"科技后，该单位的Movie、Icon、Model、Speed、Size、TurnSpeed、Range、Power等属性被修改为指定的值。
    里面几乎允许修改任意项，从外观到行为控制，但目前只需要包含这八项即可。

    此外，还有一个ChangeTypeOnTech的项，允许将单位类型修改为其他类型，具体是：
    ChangeTypeOnTech [科技名称] to [单位类型]
    例如：
    ChangeTypeOnTech "Tech 1" to "Subwater"
    当解锁"Tech 1"科技后，该单位的类型被修改为"Subwater"




示例：

    [UNIT] "Spy_Plane"
        Tech "U_Spy_Plane"
        Type Airborne

        MaxElevation 60
        Movie "Units/Images/Airborne/Topdown/Recce_Air_1.midx"
        AbstractMovie "Units/Images/Airborne/Abstract/Spy_Plane.midx"
    	Model "Units/Images/AIRBORNE/Recce Air 1.midx"
    	Icon "Units/Images/Icons/Airborne/Recce_Air_1.png"
        IconIDX 52
        ModelDrawSize 24
        DrawSize 24
        AbstractDrawSize 20
        LaunchMeSound 84
        Crash "big_bomb"
        Sound 136 Volume 0.4
        
        Size 0.02
        Speed 700
        TurnSpeed 3.5
        Range 15000
        Power 1.5 
        ProductionCost 4.5

        AutoReturn Yes
        NoAutoDeploy Yes
        Slave Yes
        DoesNotTriggerWarWhenAttacked Yes
        CanCrossBorderDuringPeaceTime No
        ShowDisabledOnDeploymentMarker False

        Config "ASW" Default
        	Weapon "DepthCharge" 6 Launch 2 Time 45 AutoEngage
        	Weapon "Air-Dropped Torpedo" 6 Launch 2 Time 45 AutoEngage
        Config "Anti-Ship"
            Weapon "DepthCharge" 2 Launch 2 Time 45 AutoEngage
            ImprovedBy "M_Light_AShM"
        	    Weapon "Light_AShM" 2 Launch 1 Time 5 AutoEngage Principal

        Radar "Spy Plane Camera"  

        Modifier "EMP_Killable"
        Modifier "EMP_Defence_Mod_1"
        Modifier "EMP_Defence_Mod_2"	
        Modifier "Spy_Plane_Modifier"
     
        ImprovedBy "EMP_Defence" delete Modifier "EMP_Killable"
        ImprovedBy "Generation_3_Aircraft" 
        {
            Movie "Units/Images/Airborne/Topdown/Recce_Air_2.midx"	
            Icon "Units/Images/Icons/Airborne/Recce_Air_2.png"
            Model "Units/Images/AIRBORNE/Recce Air 2.midx"
            Set Speed 3000
            Set TurnSpeed 5
            Set Range 15000
        	Set Power 1.75
        }
        ImprovedBy "Generation_6_Aircraft" 
        {
            Movie "Units/Images/Airborne/Topdown/Recce_Air_3.midx"	
            Icon "Units/Images/Icons/Airborne/Recce_Air_3.png"
        	Model "Units/Images/AIRBORNE/Recce Air 3.midx"
            Set Speed 4000
            Set TurnSpeed 7
            Set Range 21000
        }

    以我提供的顺序为准，这个示例仅参考





设计目标：

    - TTK GUI程序，包含多个标签页，每个标签页对应一个板块。
    - 能够从相对路径读取导出配置文件，并解析出所有单位属性。
    - 允许在相对路径下添加和读取数据库，包含分组、类型，单位、科技、导弹、雷达的名称等，在输入这些数值时可以自动补全或提供下拉栏选择。
    - 无需检查生成的文件是否有语法错误，这些功能需要人工检查。
    - 为所有表格添加CRUD功能，包括添加、删除、更新当前项、排序等。
    - 为程序添加多语言功能，并提供一（或多）个语言文件，允许用户自定义语言。


开发要求：
    允许新建一个Todolist文件，包含所有的要求和当前进度，以便其他模型接手
    你需要创建中文和英文的多语言文件
    数据库文件应当是一个csv文件，只有一行
    最终生成代码只需要弹出一个窗口，里面包含可复制的代码
    命名法则务必采用大驼峰
    时刻牢记，一次性不要新建超过700行，或替换超过300行，可能导致被截断，从而引发不可恢复且不可接受的数据丢失，务必记住！
    写入替换文件时，不要尝试使用write_to_file和replace_in_file以外的任何工具，因为不可能成功，且会导致不可逆的文件损坏！

    可以参考"D:\PROGRAM!!!\UGit\ICBM-Escalation-unit-code-generator\grid.py"这个未完成的程序



先从基础框架开始，再逐步生成需求内容，






    















